<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    .error {
      border: 1px solid red;
    }
  </style>
  <script>
    function removeErrorBorders() {
      var elements = document.getElementsByClassName("error");
      for (var i = 0; i < elements.length; i++) {
        elements[i].classList.remove("error");
      }
    }

    function validateForm() {
      removeErrorBorders();

      var username = document.getElementById("username");
      var email = document.getElementById("email");
      var institution = document.getElementById("institution");
      var password = document.getElementById("password");
      var cpassword = document.getElementById("cpassword");
      if (username.value === "") {
        username.classList.add("error");
      }
      if (email.value === "") {
        email.classList.add("error");
      }
      if (institution.value === "") {
        institution.classList.add("error");
      }
      if (password.value === "") {
        password.classList.add("error");
      }
      if (cpassword.value === "") {
        cpassword.classList.add("error");
      }
      if (password.value !== cpassword.value) {
        password.classList.add("error");
        cpassword.classList.add("error");
      }
      var errorFields = document.getElementsByClassName("error");
      if (errorFields.length > 0) {
        return false; 
      }
      localStorage.setItem('username', username.value);
      localStorage.setItem('email', email.value);
      return true;
    }
  </script>
  <link rel="stylesheet" href="signup.css">
  <title>Sign Up</title>
</head>
<body>
  <div class="signup-container">
    <h1>Create Your Account</h1>
    <form onsubmit="return validateForm()" action="/signup" method="post">
      <div class="form-group fname">
        <span>
          <i class="fa-solid fa-user"></i>
        </span>
        <label for="username">Username</label>
        <input type="text" id="username" name="username">
      </div>
      <div class="form-group email">
        <span>
          <i class="fa-solid fa-envelope"></i>
        </span>
        <label for="email">Email</label>
        <input type="email" id="email" name="email">
      </div>
      <div class="form-group institution">
        <label for="institution">Institution</label>
        <select name="institution" id="institution">
          <option value=""></option>
          <option value="VEC">Velammal Engineering College</option>
          <option value="PEC">Pannimalar Engineering College</option>
          <option value="VIT">Vellore Institute Of Technology</option>
          <option value="REC">Rajalakshmi Engineering College</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div class="form-group password">
        <span>
          <i class="fa-solid fa-lock"></i>
        </span>
        <label for="password">Password</label>
        <input type="password" id="password" name="password">
      </div>
      <div class="form-group password">
        <span>
          <i class="fa-solid fa-lock"></i>
        </span>
        <label for="cpassword">Confirm Password</label>
        <input type="password" id="cpassword" name="cpassword">
      </div>
      <button type="submit">Sign Up</button>
    </form>
    <p class="login-link">have an account? <a href="login.html">Login here</a></p>
  </div>
</body>
</html>